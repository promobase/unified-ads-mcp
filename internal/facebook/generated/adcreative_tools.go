// Code generated by codegen. DO NOT EDIT.

package generated

import (
	"context"
	"fmt"
	"strings"

	"github.com/mark3labs/mcp-go/mcp"
	"github.com/mark3labs/mcp-go/server"
)

// create_ad_creative_adlabelArgs defines the typed arguments for create_ad_creative_adlabel
type create_ad_creative_adlabelArgs struct {
	ID       string     `json:"id"`
	Adlabels []*AdLabel `json:"adlabels"`
}

// list_ad_creative_creative_insightsArgs defines the typed arguments for list_ad_creative_creative_insights
type list_ad_creative_creative_insightsArgs struct {
	ID     string   `json:"id"`
	Fields []string `json:"fields,omitempty"`
	Limit  int      `json:"limit,omitempty"`
	After  string   `json:"after,omitempty"`
	Before string   `json:"before,omitempty"`
}

// list_ad_creative_previewsArgs defines the typed arguments for list_ad_creative_previews
type list_ad_creative_previewsArgs struct {
	ID                   string                 `json:"id"`
	Fields               []string               `json:"fields,omitempty"`
	Limit                int                    `json:"limit,omitempty"`
	After                string                 `json:"after,omitempty"`
	Before               string                 `json:"before,omitempty"`
	AdFormat             string                 `json:"ad_format"`
	CreativeFeature      string                 `json:"creative_feature,omitempty"`
	DynamicAssetLabel    string                 `json:"dynamic_asset_label,omitempty"`
	DynamicCreativeSpec  map[string]interface{} `json:"dynamic_creative_spec,omitempty"`
	DynamicCustomization map[string]interface{} `json:"dynamic_customization,omitempty"`
	EndDate              string                 `json:"end_date,omitempty"`
	Height               int                    `json:"height,omitempty"`
	Locale               string                 `json:"locale,omitempty"`
	PlacePageId          int                    `json:"place_page_id,omitempty"`
	Post                 map[string]interface{} `json:"post,omitempty"`
	ProductItemIds       []string               `json:"product_item_ids,omitempty"`
	RenderType           string                 `json:"render_type,omitempty"`
	StartDate            string                 `json:"start_date,omitempty"`
	Width                int                    `json:"width,omitempty"`
}

// delete_ad_creativeArgs defines the typed arguments for delete_ad_creative
type delete_ad_creativeArgs struct {
	ID        string     `json:"id"`
	AccountId string     `json:"account_id,omitempty"`
	Adlabels  []*AdLabel `json:"adlabels,omitempty"`
	Name      string     `json:"name,omitempty"`
	Status    string     `json:"status,omitempty"`
}

// get_ad_creativeArgs defines the typed arguments for get_ad_creative
type get_ad_creativeArgs struct {
	ID              string   `json:"id"`
	Fields          []string `json:"fields,omitempty"`
	Limit           int      `json:"limit,omitempty"`
	After           string   `json:"after,omitempty"`
	Before          string   `json:"before,omitempty"`
	ThumbnailHeight int      `json:"thumbnail_height,omitempty"`
	ThumbnailWidth  int      `json:"thumbnail_width,omitempty"`
}

// update_ad_creativeArgs defines the typed arguments for update_ad_creative
type update_ad_creativeArgs struct {
	ID        string     `json:"id"`
	AccountId string     `json:"account_id,omitempty"`
	Adlabels  []*AdLabel `json:"adlabels,omitempty"`
	Name      string     `json:"name,omitempty"`
	Status    string     `json:"status,omitempty"`
}

// CreateAdCreativeAdlabelHandler handles create_ad_creative_adlabel with typed arguments
func CreateAdCreativeAdlabelHandler(ctx context.Context, request mcp.CallToolRequest, args create_ad_creative_adlabelArgs) (*mcp.CallToolResult, error) {

	// Build request body
	body := make(map[string]interface{})

	if args.ID == "" {
		return mcp.NewToolResultError("id is required"), nil
	}

	// Add parameters to body

	if len(args.Adlabels) > 0 {
		body["adlabels"] = args.Adlabels
	}

	// Build URL and execute
	url := buildGraphURL(args.ID, "adlabels")

	return ExecutePOSTRequest(ctx, url, body)

}

// ListAdCreativeCreativeInsightsHandler handles list_ad_creative_creative_insights with typed arguments
func ListAdCreativeCreativeInsightsHandler(ctx context.Context, request mcp.CallToolRequest, args list_ad_creative_creative_insightsArgs) (*mcp.CallToolResult, error) {

	// Build query parameters
	query := BuildQueryParameters()

	if args.ID == "" {
		return mcp.NewToolResultError("id is required"), nil
	}

	// Handle fields parameter
	if len(args.Fields) > 0 {
		query.Set("fields", strings.Join(args.Fields, ","))
	} else {
		// Use default fields
		defaultFields := GetDefaultFields("AdCreative")
		if len(defaultFields) > 0 {
			query.Set("fields", strings.Join(defaultFields, ","))
		}
	}

	// Add other parameters

	if len(args.Fields) > 0 {
		query.Set("fields", strings.Join(args.Fields, ","))
	}

	if args.Limit > 0 {
		query.Set("limit", fmt.Sprintf("%d", args.Limit))
	}

	if args.After != "" {
		query.Set("after", args.After)
	}

	if args.Before != "" {
		query.Set("before", args.Before)
	}

	// Build URL and execute
	baseURL := buildGraphURL(args.ID, "creative_insights")
	fullURL := BuildURLWithQuery(baseURL, query)

	return ExecuteGETRequest(ctx, fullURL)

}

// ListAdCreativePreviewsHandler handles list_ad_creative_previews with typed arguments
func ListAdCreativePreviewsHandler(ctx context.Context, request mcp.CallToolRequest, args list_ad_creative_previewsArgs) (*mcp.CallToolResult, error) {

	// Build query parameters
	query := BuildQueryParameters()

	if args.ID == "" {
		return mcp.NewToolResultError("id is required"), nil
	}

	// Handle fields parameter
	if len(args.Fields) > 0 {
		query.Set("fields", strings.Join(args.Fields, ","))
	} else {
		// Use default fields
		defaultFields := GetDefaultFields("AdCreative")
		if len(defaultFields) > 0 {
			query.Set("fields", strings.Join(defaultFields, ","))
		}
	}

	// Add other parameters

	if len(args.Fields) > 0 {
		query.Set("fields", strings.Join(args.Fields, ","))
	}

	if args.Limit > 0 {
		query.Set("limit", fmt.Sprintf("%d", args.Limit))
	}

	if args.After != "" {
		query.Set("after", args.After)
	}

	if args.Before != "" {
		query.Set("before", args.Before)
	}

	if args.AdFormat != "" {
		query.Set("ad_format", args.AdFormat)
	}

	if args.CreativeFeature != "" {
		query.Set("creative_feature", args.CreativeFeature)
	}

	if args.DynamicAssetLabel != "" {
		query.Set("dynamic_asset_label", args.DynamicAssetLabel)
	}

	// Handle DynamicCreativeSpec map parameter
	for k, v := range args.DynamicCreativeSpec {
		query.Set(k, fmt.Sprintf("%v", v))
	}

	// Handle DynamicCustomization map parameter
	for k, v := range args.DynamicCustomization {
		query.Set(k, fmt.Sprintf("%v", v))
	}

	if args.EndDate != "" {
		query.Set("end_date", args.EndDate)
	}

	if args.Height > 0 {
		query.Set("height", fmt.Sprintf("%d", args.Height))
	}

	if args.Locale != "" {
		query.Set("locale", args.Locale)
	}

	if args.PlacePageId > 0 {
		query.Set("place_page_id", fmt.Sprintf("%d", args.PlacePageId))
	}

	// Handle Post map parameter
	for k, v := range args.Post {
		query.Set(k, fmt.Sprintf("%v", v))
	}

	if len(args.ProductItemIds) > 0 {
		query.Set("product_item_ids", strings.Join(args.ProductItemIds, ","))
	}

	if args.RenderType != "" {
		query.Set("render_type", args.RenderType)
	}

	if args.StartDate != "" {
		query.Set("start_date", args.StartDate)
	}

	if args.Width > 0 {
		query.Set("width", fmt.Sprintf("%d", args.Width))
	}

	// Build URL and execute
	baseURL := buildGraphURL(args.ID, "previews")
	fullURL := BuildURLWithQuery(baseURL, query)

	return ExecuteGETRequest(ctx, fullURL)

}

// DeleteAdCreativeHandler handles delete_ad_creative with typed arguments
func DeleteAdCreativeHandler(ctx context.Context, request mcp.CallToolRequest, args delete_ad_creativeArgs) (*mcp.CallToolResult, error) {

	if args.ID == "" {
		return mcp.NewToolResultError("id is required"), nil
	}

	// Build URL and execute
	url := buildGraphURL(args.ID, "")

	return ExecuteDELETERequest(ctx, url)

}

// GetAdCreativeHandler handles get_ad_creative with typed arguments
func GetAdCreativeHandler(ctx context.Context, request mcp.CallToolRequest, args get_ad_creativeArgs) (*mcp.CallToolResult, error) {

	// Build query parameters
	query := BuildQueryParameters()

	if args.ID == "" {
		return mcp.NewToolResultError("id is required"), nil
	}

	// Handle fields parameter
	if len(args.Fields) > 0 {
		query.Set("fields", strings.Join(args.Fields, ","))
	} else {
		// Use default fields
		defaultFields := GetDefaultFields("AdCreative")
		if len(defaultFields) > 0 {
			query.Set("fields", strings.Join(defaultFields, ","))
		}
	}

	// Add other parameters

	if len(args.Fields) > 0 {
		query.Set("fields", strings.Join(args.Fields, ","))
	}

	if args.Limit > 0 {
		query.Set("limit", fmt.Sprintf("%d", args.Limit))
	}

	if args.After != "" {
		query.Set("after", args.After)
	}

	if args.Before != "" {
		query.Set("before", args.Before)
	}

	if args.ThumbnailHeight > 0 {
		query.Set("thumbnail_height", fmt.Sprintf("%d", args.ThumbnailHeight))
	}

	if args.ThumbnailWidth > 0 {
		query.Set("thumbnail_width", fmt.Sprintf("%d", args.ThumbnailWidth))
	}

	// Build URL and execute
	baseURL := buildGraphURL(args.ID, "")
	fullURL := BuildURLWithQuery(baseURL, query)

	return ExecuteGETRequest(ctx, fullURL)

}

// UpdateAdCreativeHandler handles update_ad_creative with typed arguments
func UpdateAdCreativeHandler(ctx context.Context, request mcp.CallToolRequest, args update_ad_creativeArgs) (*mcp.CallToolResult, error) {

	// Build request body
	body := make(map[string]interface{})

	if args.ID == "" {
		return mcp.NewToolResultError("id is required"), nil
	}

	// Add parameters to body

	if args.AccountId != "" {
		body["account_id"] = args.AccountId
	}

	if len(args.Adlabels) > 0 {
		body["adlabels"] = args.Adlabels
	}

	if args.Name != "" {
		body["name"] = args.Name
	}

	if args.Status != "" {
		body["status"] = args.Status
	}

	// Build URL and execute
	url := buildGraphURL(args.ID, "")

	return ExecutePOSTRequest(ctx, url, body)

}

// RegisterAdCreativeTools registers all AdCreative tools with the MCP server
func RegisterAdCreativeTools(s *server.MCPServer) error {

	// Register create_ad_creative_adlabel
	s.AddTool(
		mcp.NewTool("create_ad_creative_adlabel",
			mcp.WithDescription("Associate adlabels with this AdCreative Returns AdCreative. Required: adlabels"),
			mcp.WithString("id",
				mcp.Required(),
				mcp.Description("AdCreative ID"),
			),
			mcp.WithArray("adlabels",
				mcp.Required(),
				mcp.Description("adlabels"),
				mcp.Items(map[string]any{"type": "object"}),
			),
		),
		mcp.NewTypedToolHandler(CreateAdCreativeAdlabelHandler),
	)

	// Register list_ad_creative_creative_insights
	s.AddTool(
		mcp.NewTool("list_ad_creative_creative_insights",
			mcp.WithDescription("List creative_insights for this AdCreative Returns AdCreativeInsights."),
			mcp.WithString("id",
				mcp.Required(),
				mcp.Description("AdCreative ID"),
			),
			mcp.WithArray("fields",
				mcp.Description("Fields to return"),
				mcp.Items(map[string]any{"type": "string"}),
			),
			mcp.WithNumber("limit",
				mcp.Description("Maximum number of results"),
			),
			mcp.WithString("after",
				mcp.Description("Cursor for pagination (next page)"),
			),
			mcp.WithString("before",
				mcp.Description("Cursor for pagination (previous page)"),
			),
		),
		mcp.NewTypedToolHandler(ListAdCreativeCreativeInsightsHandler),
	)

	// Register list_ad_creative_previews
	s.AddTool(
		mcp.NewTool("list_ad_creative_previews",
			mcp.WithDescription("List previews for this AdCreative Returns AdPreview. Required: ad_format (enum)"),
			mcp.WithString("id",
				mcp.Required(),
				mcp.Description("AdCreative ID"),
			),
			mcp.WithArray("fields",
				mcp.Description("Fields to return"),
				mcp.Items(map[string]any{"type": "string"}),
			),
			mcp.WithNumber("limit",
				mcp.Description("Maximum number of results"),
			),
			mcp.WithString("after",
				mcp.Description("Cursor for pagination (next page)"),
			),
			mcp.WithString("before",
				mcp.Description("Cursor for pagination (previous page)"),
			),
			mcp.WithString("ad_format",
				mcp.Required(),
				mcp.Description("ad_format (enum: adcreativepreviews_ad_format_enum_param)"),
			),
			mcp.WithString("creative_feature",
				mcp.Description("creative_feature (enum: adcreativepreviews_creative_feature_enum_param)"),
			),
			mcp.WithString("dynamic_asset_label",
				mcp.Description("dynamic_asset_label"),
			),
			mcp.WithObject("dynamic_creative_spec",
				mcp.Description("dynamic_creative_spec"),
				mcp.AdditionalProperties(true),
			),
			mcp.WithObject("dynamic_customization",
				mcp.Description("dynamic_customization"),
				mcp.AdditionalProperties(true),
			),
			mcp.WithString("end_date",
				mcp.Description("end_date"),
			),
			mcp.WithNumber("height",
				mcp.Description("height"),
			),
			mcp.WithString("locale",
				mcp.Description("locale"),
			),
			mcp.WithNumber("place_page_id",
				mcp.Description("place_page_id"),
			),
			mcp.WithObject("post",
				mcp.Description("post"),
				mcp.AdditionalProperties(true),
			),
			mcp.WithArray("product_item_ids",
				mcp.Description("product_item_ids"),
				mcp.Items(map[string]any{"type": "string"}),
			),
			mcp.WithString("render_type",
				mcp.Description("render_type (enum: adcreativepreviews_render_type_enum_param)"),
			),
			mcp.WithString("start_date",
				mcp.Description("start_date"),
			),
			mcp.WithNumber("width",
				mcp.Description("width"),
			),
		),
		mcp.NewTypedToolHandler(ListAdCreativePreviewsHandler),
	)

	// Register delete_ad_creative
	s.AddTool(
		mcp.NewTool("delete_ad_creative",
			mcp.WithDescription("Delete a AdCreative"),
			mcp.WithString("id",
				mcp.Required(),
				mcp.Description("AdCreative ID"),
			),
			mcp.WithString("account_id",
				mcp.Description("account_id"),
			),
			mcp.WithArray("adlabels",
				mcp.Description("adlabels"),
				mcp.Items(map[string]any{"type": "object"}),
			),
			mcp.WithString("name",
				mcp.Description("name"),
			),
			mcp.WithString("status",
				mcp.Description("status (enum: adcreative_status)"),
			),
		),
		mcp.NewTypedToolHandler(DeleteAdCreativeHandler),
	)

	// Register get_ad_creative
	s.AddTool(
		mcp.NewTool("get_ad_creative",
			mcp.WithDescription("Get details of a specific AdCreative Returns AdCreative."),
			mcp.WithString("id",
				mcp.Required(),
				mcp.Description("AdCreative ID"),
			),
			mcp.WithArray("fields",
				mcp.Description("Fields to return"),
				mcp.Items(map[string]any{"type": "string"}),
			),
			mcp.WithNumber("limit",
				mcp.Description("Maximum number of results"),
			),
			mcp.WithString("after",
				mcp.Description("Cursor for pagination (next page)"),
			),
			mcp.WithString("before",
				mcp.Description("Cursor for pagination (previous page)"),
			),
			mcp.WithNumber("thumbnail_height",
				mcp.Description("thumbnail_height"),
			),
			mcp.WithNumber("thumbnail_width",
				mcp.Description("thumbnail_width"),
			),
		),
		mcp.NewTypedToolHandler(GetAdCreativeHandler),
	)

	// Register update_ad_creative
	s.AddTool(
		mcp.NewTool("update_ad_creative",
			mcp.WithDescription("Update a AdCreative Returns AdCreative."),
			mcp.WithString("id",
				mcp.Required(),
				mcp.Description("AdCreative ID"),
			),
			mcp.WithString("account_id",
				mcp.Description("account_id"),
			),
			mcp.WithArray("adlabels",
				mcp.Description("adlabels"),
				mcp.Items(map[string]any{"type": "object"}),
			),
			mcp.WithString("name",
				mcp.Description("name"),
			),
			mcp.WithString("status",
				mcp.Description("status (enum: adcreative_status)"),
			),
		),
		mcp.NewTypedToolHandler(UpdateAdCreativeHandler),
	)

	return nil
}

// AdCreative tools: 6 endpoints
